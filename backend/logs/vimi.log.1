2025-07-20 07:26:45,433 INFO: Vimi startup [in D:\A2\vimi\backend\app\__init__.py:32]
2025-07-20 07:26:57,666 INFO: 请求内容类型: application/json [in D:\A2\vimi\backend\app\routes\auth.py:17]
2025-07-20 07:26:57,667 INFO: 请求方法: POST [in D:\A2\vimi\backend\app\routes\auth.py:18]
2025-07-20 07:26:57,667 INFO: 请求头: {'Host': 'localhost:5000', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0', 'Accept': 'application/json, text/plain, */*', 'Accept-Language': 'zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Content-Type': 'application/json', 'Content-Length': '87', 'Origin': 'http://localhost:5174', 'Connection': 'keep-alive', 'Referer': 'http://localhost:5174/', 'Sec-Fetch-Dest': 'empty', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Site': 'same-site', 'Priority': 'u=0'} [in D:\A2\vimi\backend\app\routes\auth.py:19]
2025-07-20 07:26:57,668 INFO: 原始请求数据: b'{"username":"CHASE","email":"3328162745@qq.com","password":"123456","role":"candidate"}' [in D:\A2\vimi\backend\app\routes\auth.py:24]
2025-07-20 07:26:57,668 INFO: 解析后的JSON数据: {'username': 'CHASE', 'email': '3328162745@qq.com', 'password': '123456', 'role': 'candidate'} [in D:\A2\vimi\backend\app\routes\auth.py:25]
2025-07-20 07:26:57,670 ERROR: 注册过程中出错: When initializing mapper Mapper[User(users)], expression 'Interview' failed to locate a name ('Interview'). If this is a class name, consider adding this relationship() to the <class 'app.models.user.User'> class after both dependent classes have been defined. [in D:\A2\vimi\backend\app\routes\auth.py:96]
2025-07-20 07:26:57,688 ERROR: Traceback (most recent call last):
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\clsregistry.py", line 516, in _resolve_name
    rval = d[token]
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
KeyError: 'Interview'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\A2\vimi\backend\app\routes\auth.py", line 45, in register
    if User.query.filter_by(username=data['username']).first():
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\flask_sqlalchemy\model.py", line 31, in __get__
    cls, session=cls.__fsa__.session()  # type: ignore[arg-type]
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\query.py", line 295, in _set_entities
    for ent in util.to_list(entities)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\query.py", line 295, in <listcomp>
    for ent in util.to_list(entities)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\relationships.py", line 1656, in do_init
    self._setup_entity()
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\relationships.py", line 1866, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\clsregistry.py", line 507, in _raise_for_name
    ) from err
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[User(users)], expression 'Interview' failed to locate a name ('Interview'). If this is a class name, consider adding this relationship() to the <class 'app.models.user.User'> class after both dependent classes have been defined.
 [in D:\A2\vimi\backend\app\routes\auth.py:97]
2025-07-20 07:26:57,689 ERROR: 请求数据: {'username': 'CHASE', 'email': '3328162745@qq.com', 'password': '123456', 'role': 'candidate'} [in D:\A2\vimi\backend\app\routes\auth.py:99]
2025-07-20 07:27:16,426 INFO: 请求内容类型: application/json [in D:\A2\vimi\backend\app\routes\auth.py:17]
2025-07-20 07:27:16,427 INFO: 请求方法: POST [in D:\A2\vimi\backend\app\routes\auth.py:18]
2025-07-20 07:27:16,428 INFO: 请求头: {'Host': 'localhost:5000', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0', 'Accept': 'application/json, text/plain, */*', 'Accept-Language': 'zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Content-Type': 'application/json', 'Content-Length': '87', 'Origin': 'http://localhost:5174', 'Connection': 'keep-alive', 'Referer': 'http://localhost:5174/', 'Sec-Fetch-Dest': 'empty', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Site': 'same-site', 'Priority': 'u=0'} [in D:\A2\vimi\backend\app\routes\auth.py:19]
2025-07-20 07:27:16,429 INFO: 原始请求数据: b'{"username":"CHASE","email":"3328162745@qq.com","password":"123456","role":"candidate"}' [in D:\A2\vimi\backend\app\routes\auth.py:24]
2025-07-20 07:27:16,429 INFO: 解析后的JSON数据: {'username': 'CHASE', 'email': '3328162745@qq.com', 'password': '123456', 'role': 'candidate'} [in D:\A2\vimi\backend\app\routes\auth.py:25]
2025-07-20 07:27:16,430 ERROR: 注册过程中出错: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: When initializing mapper Mapper[User(users)], expression 'Interview' failed to locate a name ('Interview'). If this is a class name, consider adding this relationship() to the <class 'app.models.user.User'> class after both dependent classes have been defined. [in D:\A2\vimi\backend\app\routes\auth.py:96]
2025-07-20 07:27:16,432 ERROR: Traceback (most recent call last):
  File "D:\A2\vimi\backend\app\routes\auth.py", line 45, in register
    if User.query.filter_by(username=data['username']).first():
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\flask_sqlalchemy\model.py", line 31, in __get__
    cls, session=cls.__fsa__.session()  # type: ignore[arg-type]
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\query.py", line 295, in _set_entities
    for ent in util.to_list(entities)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\query.py", line 295, in <listcomp>
    for ent in util.to_list(entities)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\ProgramData\anaconda3\envs\vimi\lib\site-packages\sqlalchemy\orm\mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: When initializing mapper Mapper[User(users)], expression 'Interview' failed to locate a name ('Interview'). If this is a class name, consider adding this relationship() to the <class 'app.models.user.User'> class after both dependent classes have been defined.
 [in D:\A2\vimi\backend\app\routes\auth.py:97]
2025-07-20 07:27:16,433 ERROR: 请求数据: {'username': 'CHASE', 'email': '3328162745@qq.com', 'password': '123456', 'role': 'candidate'} [in D:\A2\vimi\backend\app\routes\auth.py:99]
2025-07-20 07:28:08,582 INFO: Vimi startup [in D:\A2\vimi\backend\app\__init__.py:32]
2025-07-20 07:29:43,998 INFO: Vimi startup [in D:\A2\vimi\backend\app\__init__.py:32]
2025-07-20 07:29:48,756 INFO: Vimi startup [in D:\A2\vimi\backend\app\__init__.py:32]
2025-07-20 07:31:50,431 INFO: Vimi startup [in D:\A2\vimi\backend\app\__init__.py:32]
2025-07-20 07:31:57,589 INFO: Vimi startup [in D:\A2\vimi\backend\app\__init__.py:32]
2025-07-20 07:32:59,261 INFO: Vimi startup [in D:\A2\vimi\backend\app\__init__.py:32]
